(()=>{"use strict";const t=({id:t,name:e,price:a,tag:r})=>({id:t,name:e,price:a,cartQty:1,img:`${r}.jpg`}),e=(t,e)=>t.find((t=>t.id===e)),a=t=>t.reduce(((t,{cartQty:e})=>t+e),0),r=document.querySelector("[data-items-list]"),i=t=>`\n  <div class="image" data-item-id="${t.id}">\n  <img src="./img/${t.img}" alt="${t.name} ${t.id}" />\n  <h3>${t.name}</h3>\n  <h3>$${t.price.toFixed(2)}</h3>\n  <a class="add-cart cart" data-cart-add href="#">\n  Add to cart\n  </a>\n  </div>`;Promise.resolve([{id:1,img:"greytshirt.jpg",name:"Grey T-shirt",tag:"greytshirt",price:15,inCart:0},{id:2,img:"greyhoddie.jpg",name:"Grey Hoddie",tag:"greyhoddie",price:20,inCart:0},{id:3,img:"blacktshirt.jpg",name:"Black T-shirt",tag:"blacktshirt",price:10,inCart:0},{id:4,img:"blackhoddie.jpg",name:"Black Hoddie",tag:"blackhoddie",price:25,inCart:0}]).then((e=>{const a=e.map(t);localStorage.setItem("all-items",JSON.stringify(a)),((t,e,a)=>{e&&(e.innerHTML="",e.insertAdjacentHTML("afterbegin",t.map(a).join("")))})(a,r,i)})),(t=>{const r=document.querySelector("[data-cart-qty]");let i=JSON.parse(localStorage.getItem("cart-items"))||[];t&&t.addEventListener("click",(t=>{if(t.preventDefault(),!t.target.closest("[data-cart-add]"))return;const r=t.target.closest("[data-item-id]"),{itemId:c}=r.dataset;((t,r)=>{let i=e(t,parseInt(r));if(i)i.cartQty++;else{const a=JSON.parse(localStorage.getItem("all-items"));i=e(a,parseInt(r)),t.push(i)}localStorage.setItem("cart-items",JSON.stringify(t)),(t=>{const e=document.querySelector("[data-cart-qty]"),r=document.querySelector("[data-cart-total]");e.textContent=a(t),r&&(r.textContent=`$${(t=>t.reduce(((t,{price:e,cartQty:a})=>t+100*e*a/100),0).toFixed(2))(t)}`)})(t)})(i,c)})),window.addEventListener("storage",(t=>{"cart-items"===t.key&&(i=JSON.parse(localStorage.getItem("cart-items")),r.textContent=a(i))})),r.textContent=a(i)})(r)})();